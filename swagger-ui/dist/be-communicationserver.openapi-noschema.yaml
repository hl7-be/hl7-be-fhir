---
openapi: 3.0.2
info:
  title: Belgium Communication Service
  license:
    name: Creative Commons Zero v1.0 Universal
    url: http://spdx.org/licenses/CC0-1.0.html
  version: 0.1.0
  contact:
    name: HL7 Belgium
servers:
- url: http://test.fhir.org/r4
  description: Grahame's Test Server (R4)
- url: http://fhir.ivlab.ilabt.imec.be:8080/test-lab/
  description: imec Test Server (R4)
externalDocs:
  url: https://www.ehealth.fgov.be/standards/fhir/CapabilityStatement/be-communicationserver
  description: FHIR CapabilityStatement
paths:
  "/metadata":
    summary: Access to the Server's Capability Statement
    description: All FHIR Servers return a CapabilityStatement that describes what
      services they perform
    get:
      summary: Return the server's capability statement
      operationId: metadata
      responses:
        '200':
          description: the capbility statement
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
        default:
          description: Error, with details
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
      parameters:
      - "$ref": "#/components/parameters/format"
      - "$ref": "#/components/parameters/pretty"
      - "$ref": "#/components/parameters/summary"
      - "$ref": "#/components/parameters/elements"
  "/Communication/{rid}":
    summary: Read/Write/etc resource instance of type Communication
    description: Access to services to manage the state of a single resource of type
      Communication
    get:
      summary: Read the current state of the resource
      operationId: readCommunication
      responses:
        '200':
          description: the resource being returned
          headers:
            ETag:
              description: Version from Resource.meta.version as a weak ETag
              schema:
                type: string
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
        default:
          description: Error, with details
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
      parameters:
      - "$ref": "#/components/parameters/rid"
      - "$ref": "#/components/parameters/summary"
      - "$ref": "#/components/parameters/format"
      - "$ref": "#/components/parameters/pretty"
      - "$ref": "#/components/parameters/elements"
    put:
      summary: Update the current state of the resource (can create a new resource
        if it does not exist)
      operationId: updateCommunication
      requestBody:
        description: The new state of the resource
        required: true
        content:
          application/fhir+json:
            schema:
                "$ref": "#/definitions/inBody"
          application/fhir+xml:
            schema:
                "$ref": "#/definitions/inBody"
      responses:
        '200':
          description: the resource being returned after being updated
          headers:
            ETag:
              description: Version from Resource.meta.version as a weak ETag
              schema:
                type: string
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
        default:
          description: Error, with details
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
      parameters:
      - "$ref": "#/components/parameters/rid"
      - "$ref": "#/components/parameters/summary"
      - "$ref": "#/components/parameters/format"
      - "$ref": "#/components/parameters/pretty"
      - "$ref": "#/components/parameters/elements"
    delete:
      summary: Delete the resource so that it no exists (no read, search etc)
      operationId: deleteCommunication
      responses:
        '204':
          description: If the resource is deleted - no content is returned
          headers:
            ETag:
              description: Version from Resource.meta.version as a weak ETag
              schema:
                type: string
        default:
          description: Error, with details
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
      parameters:
      - "$ref": "#/components/parameters/rid"
  "/Communication":
    summary: Manager for resources of type Communication
    description: 'The Manager for resources of type Communication: provides services
      to manage the collection of all the Communication instances'
    post:
      summary: Create a new resource
      operationId: createCommunication
      requestBody:
        description: The new state of the resource
        required: true
        content:
          application/fhir+json:
            schema:
                "$ref": "#/definitions/inBody"
          application/fhir+xml:
            schema:
                "$ref": "#/definitions/inBody"
      responses:
        '200':
          description: the resource being returned after being updated
          headers:
            ETag:
              description: Version from Resource.meta.version as a weak ETag
              schema:
                type: string
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
        default:
          description: Error, with details
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
      parameters:
      - "$ref": "#/components/parameters/summary"
      - "$ref": "#/components/parameters/format"
      - "$ref": "#/components/parameters/pretty"
      - "$ref": "#/components/parameters/elements"
  "/Communication/{rid}/_history/{hid}":
    summary: Read a past version of resource instance of type Communication
    description: Access a to specified previous version of a single resource of type
      Communication
    get:
      summary: Read a past state of the resource
      operationId: vreadCommunication
      responses:
        '200':
          description: the resource being returned
          headers:
            ETag:
              description: Version from Resource.meta.version as a weak ETag for that
                version
              schema:
                type: string
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
        default:
          description: Error, with details
          content:
            application/fhir+json:
              schema:
                "$ref": "#/definitions/inBody"
            application/fhir+xml:
              schema:
                "$ref": "#/definitions/inBody"
      parameters:
      - "$ref": "#/components/parameters/rid"
      - "$ref": "#/components/parameters/hid"
      - "$ref": "#/components/parameters/summary"
      - "$ref": "#/components/parameters/format"
      - "$ref": "#/components/parameters/pretty"
      - "$ref": "#/components/parameters/elements"
components:
  parameters:
    rid:
      name: rid
      in: path
      description: id of the resource (=Resource.id)
      required: true
      allowEmptyValue: false
      style: simple
      schema:
        type: string
    hid:
      name: hid
      in: path
      description: id of the history entry (=Resource.meta.versionId)
      required: true
      allowEmptyValue: false
      style: simple
      schema:
        type: string
    summary:
      name: _summary
      in: query
      description: Requests the server to return a designated subset of the resource
      allowEmptyValue: true
      style: form
      schema:
        type: string
        enum:
        - 'true'
        - text
        - data
        - count
        - 'false'
    format:
      name: _format
      in: query
      description: 'Specify alternative response formats by their MIME-types (when
        a client is unable acccess accept: header)'
      allowEmptyValue: true
      style: form
      schema:
        type: string
        format: mime-type
    pretty:
      name: _pretty
      in: query
      description: Ask for a pretty printed response for human convenience
      allowEmptyValue: true
      style: form
      schema:
        type: boolean
    elements:
      name: _elements
      in: query
      description: Requests the server to return a collection of elements from the
        resource
      allowEmptyValue: true
      style: form
      explode: false
      schema:
        type: array
        format: string
        items:
          format: string
    count:
      name: _count
      in: query
      description: The maximum number of search results on a page. The server is not
        bound to return the number requested, but cannot return more
      schema:
        type: number
definitions:
  inBody:
    type: object